<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="puzzle-solution-bot" content="4,0,7,2,6,1,8,3,5">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" type="image/x-icon" href="images/robot.ico">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Jomhuria&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Palanquin:wght@100;200;300;400;500;600;700&display=swap" rel="stylesheet">
<link rel="preload" href="images/bg2.png" as="image">

<title>Captcha Gate</title>
<style>
  /* Page fade transition */
  body {
    opacity: 1;
    transition: opacity 0.25s ease;
  }

  body.fade-out {
    opacity: 0;
  }


  body {
    display: flex;
    flex-direction: column;
    align-items: center;
    font-family: "Palanquin", sans-serif;
    background: #fafafa;
    text-align: center;
    background-color: #DBF6E5;
    overflow-y: scroll;
  }



  body {
  position: relative;
  background: none; /* remove old bg */
  overflow-x: hidden;
}

body::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: url('images/bg2.png');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  opacity: 0.9;     /* 70% opacity */
  z-index: -1;       /* behind all content */
}

.glass-box {
  width: 864px;
  max-width: 100%;
  background: rgba(255, 255, 255, 0.4);
  backdrop-filter: blur(2px);
  padding: 24px;
  border-radius: 20px;
  margin-bottom: 20px;
}


  /* Title and description styles */
  h1 {
    font-size: 96px;
    font-family: 'Jomhuria', 'Arial Narrow', sans-serif;
    font-size-adjust: 0.30;
    line-height: 0.85;
    font-weight: 500;
    color: #fff;
    background-clip: text;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 16px;
    margin-top: 1rem;
    margin-bottom: 0;
  }
  h1 img {
    width: 28px;
    height: 28px;
  }

  .subtitle {
    font-size: 24px;
    font-weight: 600;
    color: #113822;
  }

  .description p {
    margin: 0;
    margin-top: 16px;
  }

  .description {
    color: #113822;
    font-size: 20px;
    line-height: 32px;
    max-width: 850px;
  }

  /* Toggle section */
  .toggle-section {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 20px;
  }

  .view-label {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 16px;
    font-weight: 500;
    transition: color 0.3s ease;
  }
  .view-label img {
    width: 22px;
    height: 22px;
  }

  .toggle-wrapper {
    position: relative;
    width: 60px;
    height: 30px;
  }

  .toggle-input {
    opacity: 0;
    width: 0;
    height: 0;
  }

  .toggle-slider {
    position: absolute;
    cursor: pointer;
    top: 0; left: 0;
    right: 0; bottom: 0;
    background-color: #cbced4;
    border-radius: 30px;
    transition: background-color 0.3s;
  }

  .toggle-slider::before {
    content: "";
    position: absolute;
    height: 24px;
    width: 24px;
    left: 3px;
    bottom: 3px;
    background-color: white;
    border-radius: 50%;
    transition: transform 0.3s;
  }

  .toggle-input:checked + .toggle-slider {
    background-color: #0a0a0a;
  }

  .toggle-input:checked + .toggle-slider::before {
    transform: translateX(30px);
  }

  .human-view {
    color: #000;
  }
  .bot-view {
    color: #000;
  }
  .toggle-input:checked ~ .human-view {
    color: #000;
  }
  .toggle-input:checked ~ .bot-view {
    color: #000;
  }

  /* Puzzle layout */
  .container {
    display: flex;
    gap: 2rem;
    margin-top: 1.5rem;
    justify-content: center;
  }

  .board, .pieces {
    display: grid;
    grid-template-columns: repeat(3, 80px);
    grid-template-rows: repeat(3, 80px);
    gap: 4px;
  }

  .slot, .piece {
    width: 80px;
    height: 80px;
    border: 1px solid #ccc;
    background-size: 240px 240px;
  }

  .pieces {
    border: 2px dashed #bbb;
    padding: 4px;
  }

  .puzzle-label {
    font-size: 16px;
    color: #171718;
    font-weight: 500;
    margin-bottom: 20px;
  }

  /* Info bubble */
.info-bubble {
  position: fixed;
  top: 20px;
  left: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  z-index: 100;
}

.info-icon {
  width: 50px;
  height: 50px;
  transition: transform 0.2s ease;
}

.info-bubble:hover .info-icon {
  transform: scale(1.1);
}

/* Tooltip style */
.tooltip {
  visibility: hidden;
  opacity: 0;
  position: absolute;
  top: 30px;
  left: 0;
  background: rgba(255, 255, 255, 0.95);
  color: #0a0a0a;
  font-size: 14px;
  line-height: 22px;
  text-align: left;
  width: 320px;
  padding: 16px;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  transition: opacity 0.3s ease;
}

.tooltip h3 {
  margin-top: 0;
  font-size: 16px;
  color: #113822;
}

.info-bubble:hover .tooltip {
  visibility: visible;
  opacity: 1;
}

.tooltip-binary {
  position: relative;
  cursor: help;
}

.tooltip-binary::after {
  content: attr(data-tip);
  position: absolute;
  left: 0;
  top: 130%;
  white-space: normal;
  background: rgba(255, 255, 255, 0.95);
  color: #0a0a0a;
  padding: 10px 14px;
  border-radius: 8px;
  font-size: 14px;
  line-height: 20px;
  width: 220px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.2s ease;
  z-index: 10;
}

.tooltip-binary:hover::after {
  opacity: 1;
  visibility: visible;
}


</style>
</head>

<body class="fade-out">
  <!-- Title -->
  <h1>
    Captcha Gate
  </h1>

  <!-- Info bubble -->
  <div class="info-bubble">
    <img src="images/treasure.png" alt="info" class="info-icon">
    <div class="tooltip">
      <h3>About the project</h3>
      <p>This project explores the fading boundary between humans and bots online. Traditionally, CAPTCHAs meant to keep automated systems out, yet in practise they function more as data collectors.</p>
      <p>In this experience, both humans and bots receive the same puzzle but solve it differently: humans use sight and intuition, while bots read hidden metadata. When finished, each is sent to a separate destination: one built for people, the other for machines.</p>
      <p>Instead of blocking out artificial intelligence, the system allows it in and quietly redirects it to a space reserved for machines. This inversion raises questions about whether current security practices still make sense as automated traffic grows.</p>
      <p>By separating destinations based on how the puzzle is solved, the project reveals the differing cognitive paths of humans and machines. It becomes a playful reflection on what intelligence is, how we distinguish ourselves from algorithms, and how those boundaries are beginning to shift.</p>

    </div>
  </div>

  <div class="glass-box">
      <!-- Intro text -->
        <div class="subtitle">Welcome! Or shall we say 
            <span class="tooltip-binary" data-tip="This is HELLO written in binary ASCII â€” the machine's language.">
            01001000 01000101 01001100 01001100 01001111
            </span>
        </div>

        <div class="description">
            <p>Test your intelligence and solve the puzzle!</p>
            <p>Can you prove that you are human and proceed to the digital garden? <br>Or will you get lost in the forest of fake conversations?</p>
        </div>
  </div>

  <div class="glass-box">
      <!-- Toggle section -->
  <div class="toggle-section">
    <label class="view-label human-view">
      <img src="images/eye_black.png" alt="human icon">
      Human view
    </label>

    <div class="toggle-wrapper">
      <input type="checkbox" id="viewToggle" class="toggle-input">
      <span class="toggle-slider"></span>
    </div>

    <label class="view-label bot-view">
      <img src="images/bot_black.png" alt="bot icon">
      Bot view
    </label>
  </div>

  <!-- Puzzle area -->
  <div class="container">
    <!-- Left side: Pieces -->
    <div>
      <div class="puzzle-label">Drag pieces from here</div>
      <div class="pieces" id="pieces"></div>
    </div>

    <!-- Right side: Board -->
    <div>
      <div class="puzzle-label">Complete the puzzle here</div>
      <div class="board" id="board">
        <div class="slot" data-pos="0"></div>
        <div class="slot" data-pos="1"></div>
        <div class="slot" data-pos="2"></div>
        <div class="slot" data-pos="3"></div>
        <div class="slot" data-pos="4"></div>
        <div class="slot" data-pos="5"></div>
        <div class="slot" data-pos="6"></div>
        <div class="slot" data-pos="7"></div>
        <div class="slot" data-pos="8"></div>
      </div>
    </div>
  </div>

  </div>



<script>

window.addEventListener("DOMContentLoaded", () => {
  document.body.classList.remove("fade-out");
});

const toggle = document.getElementById("viewToggle");
const slider = document.querySelector(".toggle-slider");
const humanLabel = document.querySelector(".human-view");
const botLabel = document.querySelector(".bot-view");
const humanIcon = humanLabel.querySelector("img");
const botIcon = botLabel.querySelector("img");

// --- Toggle behavior (unchanged) ---
function updateViewVisuals() {
  if (toggle.checked) {
    humanLabel.style.color = "#000";
    botLabel.style.color = "#000";
    humanIcon.src = "images/eye_black.png";
    botIcon.src = "images/bot_black.png";
  } else {
    humanLabel.style.color = "#000";
    botLabel.style.color = "#000";
    humanIcon.src = "images/eye_black.png";
    botIcon.src = "images/bot_black.png";
  }
}
slider.addEventListener("click", () => {
  toggle.checked = !toggle.checked;
  toggle.dispatchEvent(new Event("change"));
});
toggle.addEventListener("change", () => {
  updateViewVisuals();

  // Start fade-out animation
  document.body.classList.add("fade-out");

  // Wait for fade-out to finish, then redirect
  setTimeout(() => {
    window.location.href = toggle.checked ? "bot.html" : "index.html";
  }, 250);
});

updateViewVisuals();

// --- SCRAMBLED VISUAL + WRONG METADATA ---
const piecesContainer = document.getElementById("pieces");
const visualOrder = [...Array(9).keys()];
const shuffledVisual = [...visualOrder].sort(() => Math.random() - 0.5);
const puzzleImg = "puzzle.jpg";

shuffledVisual.forEach(i => {
  const piece = document.createElement("div");
  piece.classList.add("piece");
  piece.draggable = true;

  // human checks correctness visually
  piece.dataset.correct = i;

  piece.dataset.pos = i;


  const x = (i % 3) * -80;
  const y = Math.floor(i / 3) * -80;
  piece.style.backgroundImage = `url('${puzzleImg}')`;
  piece.style.backgroundPosition = `${x}px ${y}px`;

  piecesContainer.appendChild(piece);
});

let dragged = null;
document.addEventListener("dragstart", e => {
  if (e.target.classList.contains("piece")) dragged = e.target;
});
document.addEventListener("dragover", e => {
  if (e.target.classList.contains("slot")) e.preventDefault();
});
document.addEventListener("drop", e => {
  if (e.target.classList.contains("slot") && dragged) {
    if (e.target.firstChild) piecesContainer.appendChild(e.target.firstChild);
    e.target.appendChild(dragged);
    dragged = null;
    checkPuzzle();
  }
});

function checkPuzzle() {
  const slots = document.querySelectorAll(".slot");
  const correct = [...slots].every((slot, idx) => {
    const child = slot.firstChild;
    return child && Number(child.dataset.correct) === idx;
  });
  if (correct) {
    requestAnimationFrame(() => {
        requestAnimationFrame(() => {
            alert("Puzzle solved!");
            window.location.href = "blog_human.html";
        });
    });
  }
}
</script>
</body>
</html>
