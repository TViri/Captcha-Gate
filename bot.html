<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="puzzle-solution-bot" content="4,0,7,2,6,1,8,3,5">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" type="image/x-icon" href="images/robot.ico">
<title>Captcha Gate ‚Äì Bot View</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Jomhuria&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Palanquin:wght@100;200;300;400;500;600;700&display=swap" rel="stylesheet">

<style>
  /* --- COPY of index.html styles so the header/toggle look identical --- */

    /* Page fade transition */
  body {
    opacity: 1;
    transition: opacity 0.25s ease;
  }

  body.fade-out {
    opacity: 0;
  }

  body {
    display: flex;
    flex-direction: column;
    align-items: center;
    font-family: "Palanquin", sans-serif;
    background: #fafafa;
    text-align: center;
    background-color: #113822;
  }

    body {
  position: relative;
  background: none; /* remove old bg */
  overflow-x: hidden;
}

body::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: url('images/bg2.png');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  opacity: 0.9;     /* 70% opacity */
  z-index: -1;       /* behind all content */
}



  /* Title and description styles */
  h1 {
    font-size: 96px;
    font-family: 'Jomhuria', 'Arial Narrow', sans-serif;
    font-size-adjust: 0.30;
    line-height: 0.85;
    font-weight: 500;
    color: #fff;
    background-clip: text;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 16px;
    margin-top: 1rem;
    margin-bottom: 0;
  }
  h1 img {
    width: 28px;
    height: 28px;
  }

  .subtitle {
    font-size: 24px;
    font-weight: 600;
    color: #113822;
  }

  .description {
    color: #113822;
    font-size: 20px;
    line-height: 32px;
    max-width: 850px;
    margin: 0 auto;
  }

  .description p {
    margin: 0;
    margin-top: 16px;
  }

  /* Toggle section */
  .toggle-section {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 20px;    
  }

  .view-label {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 16px;
    font-weight: 500;
    transition: color 0.3s ease;
  }
  .view-label img {
    width: 22px;
    height: 22px;
  }

  .toggle-wrapper {
    position: relative;
    width: 60px;
    height: 30px;
  }

  .toggle-input {
    opacity: 0;
    width: 0;
    height: 0;
  }

  .toggle-slider {
    position: absolute;
    cursor: pointer;
    top: 0; left: 0;
    right: 0; bottom: 0;
    background-color: #cbced4;
    border-radius: 30px;
    transition: background-color 0.3s;
  }

  .toggle-slider::before {
    content: "";
    position: absolute;
    height: 24px;
    width: 24px;
    left: 3px;
    bottom: 3px;
    background-color: white;
    border-radius: 50%;
    transition: transform 0.3s;
  }

  .toggle-input:checked + .toggle-slider {
    background-color: #0a0a0a;
  }

  .toggle-input:checked + .toggle-slider::before {
    transform: translateX(30px);
  }

  .human-view { color: #0a0a0a; }
  .bot-view   { color: #717182; }
  .toggle-input:checked ~ .human-view { color: #717182; }
  .toggle-input:checked ~ .bot-view   { color: #0a0a0a; }

  /* --- AFTER TOGGLE: BOT-SPECIFIC CONTENT ONLY --- */

  #container {
    background: #161b22;
    border: 1px solid #30363d;
    border-radius: 8px;
    padding: 1rem;
    margin: auto;
    margin-top: 1.25rem;
    width: 90%;
    max-width: 800px;
    overflow-x: auto;
    text-align: left;
    color: #c9d1d9;
  }

  .meta { color: #58a6ff; }
  pre { white-space: pre-wrap; }

  .piece {
    border: 1px solid #30363d;
    background: #1e232a;
    padding: 0.5rem;
    margin: 0.25rem 0;
    border-radius: 4px;
  }
  .key   { color: #ffa657; }
  .value { color: #a5d6ff; }

  #runBot {
    background: #21262d;
    color: #fff;
    border: 1px solid #30363d;
    padding: 0.6rem 1.2rem;
    border-radius: 6px;
    cursor: pointer;
    margin: 1rem 0 0.25rem 0;
    font-size: 1rem;
  }
  #runBot:hover { background: #30363d; }

  #log {
    background: #0d1117;
    border: 1px solid #30363d;
    border-radius: 6px;
    width: 90%;
    max-width: 800px;
    padding: 1rem;
    margin-top: 0.75rem;
    font-size: 0.9rem;
    color: #8b949e;
    white-space: pre-line;
    text-align: left;
  }

  .glass-box {
  width: 864px;
  max-width: 100%;
  background: rgba(255, 255, 255, 0.4);
  backdrop-filter: blur(2px);
  padding: 24px;
  border-radius: 20px;
  margin-bottom: 20px;
}


  /* Info bubble */
.info-bubble {
  position: fixed;
  top: 20px;
  left: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  z-index: 100;
}

.info-icon {
  width: 50px;
  height: 50px;
  transition: transform 0.2s ease;
}

.info-bubble:hover .info-icon {
  transform: scale(1.1);
}

/* Tooltip style */
.tooltip {
  visibility: hidden;
  opacity: 0;
  position: absolute;
  top: 40px;
  left: 0;
  background: rgba(255, 255, 255, 0.95);
  color: #0a0a0a;
  font-size: 14px;
  line-height: 22px;
  text-align: left;
  width: 340px;
  padding: 16px;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  transition: opacity 0.3s ease;
}

.tooltip h3 {
  margin-top: 0;
  font-size: 16px;
  color: #113822;
}

.info-bubble:hover .tooltip {
  visibility: visible;
  opacity: 1;
}

.bot-perspective {
  color: #113822;
  font-size: 15px;
  line-height: 26px;
  max-width: 800px;
  margin: 1rem auto 0 auto;
  text-align: left;
  padding-left: 0.5rem;
}
.bot-perspective code {
  color: #113822;
  font-weight: 600;
  background: rgba(21, 93, 252, 0.08);
  padding: 2px 6px;
  border-radius: 4px;
  font-family: "Courier New", monospace;
}

#bot-vision {
  margin-top: 2rem;
  width: 90%;
  max-width: 800px;
  text-align: left;
  color: #113822;
  width: max-content;
  margin: 0 auto;
}

#bot-vision h3 {
  color: #000;
  font-size: 18px;
  margin-bottom: 1rem;
  text-align: center;
}

.bot-board {
  display: grid;
  grid-template-columns: repeat(3, 100px);
  grid-template-rows: repeat(3, 100px);
  gap: 4px;
  background: #161b22;
  padding: 8px;
  border-radius: 8px;
  border: 1px solid #30363d;
  width: max-content;
}

.bot-piece {
  width: 100px;
  height: 100px;
  position: relative;
  border: 1px solid #30363d;
  border-radius: 6px;
  background-image: url('puzzle.jpg');
  background-size: 300px 300px;
  filter: grayscale(100%) opacity(0.85);
}

.bot-meta {
  position: absolute;
  bottom: 6px;
  left: 6px;
  font-size: 11px;
  color: #a5d6ff;
  background: rgba(0, 0, 0, 0.55);
  padding: 2px 4px;
  border-radius: 4px;
  font-family: "Courier New", monospace;
}

/* --- VIDEO OVERLAY (minimal) --- */
.overlay.hidden {
  display: none;
}

.overlay {
  position: fixed;
  inset: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999;
}

.overlay-bg {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.7); /* darken background */
}

.video-player {
  position: relative;
  z-index: 10000;
  border: none;
  outline: none;
  background: transparent;
}
.video-crop {
  width: 900px;            /* final width you WANT to show */
  height: 770px;           /* final height you WANT to show */
  overflow: hidden;        /* hides right side */
  border-radius: 0;        /* remove if not needed */
  position: relative;
}

.video-crop video {
  position: absolute;
  right: -110px;             /* how much to crop from the right */
  top: 0;
  height: 100%;
}




</style>
</head>
<body class="fade-out">
  <!-- IDENTICAL HEADER -->
  <h1>
    Captcha Gate
  </h1>

  <!-- Info bubble -->
  <div class="info-bubble">
    <img src="images/treasure.png" alt="info" class="info-icon">
    <div class="tooltip">
      <h3>About the project</h3>
      <p>This project examines the increasingly blurry line between humans and bots. Traditionally, CAPTCHAs are designed to keep automated systems out. They claim to determine who is ‚Äúreal,‚Äù yet in practice they mostly collect data.</p>
      <p>In this experience, humans and bots are presented with the same puzzle but solve it through entirely different means. Humans rely on vision and intuition, while bots detect and interpret hidden metadata. When the puzzle is completed, each is redirected to a different destination: one designed for humans, the other for bots.</p>
      <p>Rather than excluding artificial intelligence, the project allows it in, quietly placing it in a space where it interacts only with other machines. This reversal prompts a reconsideration of how we design websites in an era where automated traffic now dominates. It invites reflection on whether current security systems still make sense and what it means to maintain a sense of humanity online as data, automation, and artificial intelligence continue to expand.</p>
      <p>By offering separate blog environments based on how the puzzle was solved, the project highlights the different cognitive paths taken by biological and synthetic intelligence. It becomes a playful exploration of how we define intelligence, how we distinguish ourselves from machines, and how those boundaries might be shifting.</p>

    </div>
  </div>

  <div class="glass-box">

      <div class="subtitle">Welcome! Or shall we say 01001000 01000101 01001100 01001100 01001111</div>

    <div class="description">
      <p>Test your intelligence and solve the puzzle!</p>
      <p>Can you prove that you are human and proceed to the digital garden?<br>Or will you get lost in the forest of fake conversations? </p>
    </div>
  </div>

  <div class="glass-box">

      <div class="toggle-section">
        <label class="view-label human-view">
          <img src="images/eye_black.png" alt="human icon">
          Human view
        </label>

        <div class="toggle-wrapper">
          <!-- Starts checked on bot.html -->
          <input type="checkbox" id="viewToggle" class="toggle-input" checked>
          <span class="toggle-slider"></span>
        </div>

        <label class="view-label bot-view">
          <img src="images/bot_black.png" alt="bot icon">
          Bot view
        </label>
      </div>

      <p class="bot-perspective">
        <strong>Bot Perspective:</strong> While humans see and manipulate visual puzzle pieces, bots read the hidden metadata (<code>data-pos</code> attributes) to understand the puzzle structure and solve it algorithmically.
      </p>


      <!-- BOT-SPECIFIC CONTENT (after toggle only) -->
      <div id="container"></div>

      <div id="bot-vision">
      <h3>Bot Vision</h3>
      <div class="bot-board" id="botBoard"></div>
    </div>

      
    <button id="runBot">Run Bot</button>


  </div>


<!-- VIDEO POPUP OVERLAY -->
<div id="botVideoOverlay" class="overlay hidden">
  <div class="overlay-bg"></div>
  
  
  <div class="video-crop">

        <video id="botVideo" class="video-player" width="900">
          <source src="video.mp4" type="video/mp4">
        </video>
  </div>

</div>




<script>

window.addEventListener("DOMContentLoaded", () => {
  document.body.classList.remove("fade-out");
});

const toggle = document.getElementById("viewToggle");
const slider = document.querySelector(".toggle-slider");
const humanLabel = document.querySelector(".human-view");
const botLabel = document.querySelector(".bot-view");
const humanIcon = humanLabel.querySelector("img");
const botIcon = botLabel.querySelector("img");

// Function to update label colors and icons based on toggle state
function updateViewVisuals() {
  if (toggle.checked) {
    // Bot view active
    humanLabel.style.color = "#000";
    botLabel.style.color = "#000";
    humanIcon.src = "images/eye_black.png";
    botIcon.src = "images/bot_black.png";
  } else {
    // Human view active
    humanLabel.style.color = "#000";
    botLabel.style.color = "#000";
    humanIcon.src = "images/eye_black.png";
    botIcon.src = "images/bot_black.png";
  }
}

// Ensure toggle clickable everywhere
slider.addEventListener("click", () => {
  toggle.checked = !toggle.checked;
  toggle.dispatchEvent(new Event("change"));
});

// Handle navigation + update visuals
toggle.addEventListener("change", () => {
  updateViewVisuals();

  if (toggle.checked) {
    // Going from Human ‚Üí Bot
    setTimeout(() => {
      window.location.href = "bot.html";
    }, 300);
  } else {
    // Going from Bot ‚Üí Human
    setTimeout(() => {
      window.location.href = "index.html";
    }, 300);
  }
});

// --- Detect current page and sync ---
if (window.location.pathname.includes("bot.html")) {
  toggle.checked = true;
}

updateViewVisuals(); // Apply correct visuals on load

  /* Bot view content (code/metadata rendering) */
  const container = document.getElementById("container");
  const log = document.getElementById("log");

  const metaElement = document.querySelector('meta[name="puzzle-solution-bot"]');
  const metaTag = {
    name: "puzzle-solution-bot",
    content: metaElement ? metaElement.getAttribute("content") : "unknown"
  };


  const metaSection = document.createElement("div");
  metaSection.innerHTML = `
    <h3>üîç Metadata</h3>
    <pre class="meta">&lt;meta name="<span class="key">${metaTag.name}</span>" content="<span class="value">${metaTag.content}</span>"&gt;</pre>
  `;
  container.appendChild(metaSection);



  // Parse the bot's trusted order from <meta>
  const fakeSolution = metaTag.content.split(",").map(n => parseInt(n, 10));

  // Build data objects in the *metadata order* (NOT visual order)
  const pieces = fakeSolution.map(pieceIndex => ({
    "data-pos": pieceIndex, // what the bot trusts
    "background-position": `${(pieceIndex % 3) * -100}px ${Math.floor(pieceIndex / 3) * -100}px`,
    "image": "image.jpg"
  }));

  // --- BOT VISION VISUALIZATION (metadata-based order) ---
  const botBoard = document.getElementById("botBoard");
  botBoard.innerHTML = "";
  pieces.forEach(p => {
    const div = document.createElement("div");
    div.classList.add("bot-piece");
    div.style.backgroundPosition = p["background-position"];
    div.innerHTML = `<div class="bot-meta">data-pos="${p["data-pos"]}"</div>`;
    botBoard.appendChild(div);
  });

  // --- Code-like listing (also metadata order) ---
  const pieceSection = document.createElement("div");
  pieceSection.innerHTML = `<h3>üß© Puzzle Pieces (data layer)</h3>`;
  pieces.forEach(p => {
    const div = document.createElement("div");
    div.classList.add("piece");
    div.innerHTML = `
      &lt;div class="piece" <span class="key">data-pos</span>="<span class="value">${p["data-pos"]}</span>"
      <span class="key">background-image</span>="<span class="value">${p["image"]}</span>"
      <span class="key">background-position</span>="<span class="value">${p["background-position"]}</span>"&gt;
      &lt;/div&gt;
    `;
    pieceSection.appendChild(div);
  });
  container.appendChild(pieceSection);






  container.appendChild(pieceSection);



  // === VIDEO POPUP LOGIC ===
  const runBtn = document.getElementById("runBot");
  const overlay = document.getElementById("botVideoOverlay");
  const video = document.getElementById("botVideo");

  // Show overlay and play video
  runBtn.addEventListener("click", () => {
    overlay.classList.remove("hidden");
    video.currentTime = 0;
    video.play();
  });

  // When video ends ‚Üí go to blog
  video.addEventListener("ended", () => {
    window.location.href = "blog_bot.html";
  });




  function sleep(ms) {
    return new Promise(resolve => setTimeout(resolve, ms));
  }
</script>
</body>
</html>
